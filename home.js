var canvas = document.getElementById("main");

var colors = {
  whitebrown: "#f5f5f5",
  white: "#ffffff",
  black: "#000000",
  gray: "#808080",
  beige: "#f5f5dc",
  rouse: "#d68a6a",
};

var data = {
  1: {
1 : 7309,
3 : 7310,
6 : 7309,
7 : 7309,
11 : 7309,
14 : 7309,
15 : 10000,
21 : 7309,
25 : 7309,
26 : 7309,
27 : 7309,
30 : 7500,
32 : 7309,
33 : 7309,
36 : 7309,
46 : 7309,
49 : 7309,
50 : 7309,
52 : 2309,
54 : 10000,
60 : 7309,
61 : 7400,
67 : 7309,
68 : 7310,
69 : 7309,
70 : 7309,
71 : 7309,
73 : 7309,
76 : 7309,
77 : 7309,
78 : 7309,
79 : 7309,
84 : 7309,
86 : 7309,
87 : 7309,
90 : 14618,
91 : 7309,
94 : 7309,
95 : 7309,
96 : 7309,
101 : 7309,
102 : 7309,
112 : 22000,
113 : 7309,
114 : 7309,
115 : 7309,
120 : 7309,
123 : 7309,
125 : 7309,
126 : 7309,
127 : 7309,
132 : 7309,
134 : 7309,
140 : 7309,
144 : 7309,
147 : 7309,
148 : 7309,
149 : 7309,
154 : 7310,
156 : 7309,
158 : 7309,
159 : 7309,
162 : 7310,
164 : 7309,
168 : 7309,
170 : 7309,
171 : 7309,
174 : 7309,
176 : 7309,
177 : 7309,
178 : 7309,
179 : 7309,
183 : 7309,
185 : 7309,
189 : 7309,
192 : 7309,
193 : 7309,
195 : 7309,
198 : 7309,
199 : 7309,
201 : 7309,
202 : 7309,
204 : 7309,
206 : 7309,
211 : 7309,
212 : 7309,
213 : 7309,
216 : 7309,
219 : 7500,
224 : 7309,
228 : 7309,
231 : 14618,
234 : 7309,
236 : 7309,
238 : 7309,
240 : 7309,
242 : 7309,
244 : 7309,
249 : 7309,
252 : 7309,
253 : 7309,
254 : 7309,
258 : 7309,
259 : 7309,
261 : 7309,
265 : 7309,
266 : 7309,
270 : 7309,
274 : 7309,
279 : 7309,
280 : 7309,
281 : 7309,
282 : 7309,
283 : 7309,
286 : 4000,
290 : 7309,
292 : 7309,
293 : 15000,
297 : 7309,
303 : 7309,
305 : 7309,
306 : 7309,
315 : 7309,
316 : 7309,
319 : 7309,
323 : 5000,
328 : 7309,
332 : 7309,
333 : 7309,
336 : 7309,
338 : 5000,
345 : 7309,
349 : 7309,
360 : 7309,
362 : 7309,
365 : 7309,
367 : 9000,
374 : 7309,
375 : 7309,
376 : 7309,
378 : 7500,
379 : 7309,
380 : 7309,
381 : 7309,
382 : 7309,
383 : 7309,
384 : 7309,
387 : 7309,
391 : 7309,
392 : 7309,
393 : 7309,
395 : 7309,
    415: 3700,
  },
  5: {
1 : 7309,
5 : 7309,
8 : 7309,
9 : 7309,
19 : 7309,
23 : 7309,
28 : 7309,
32 : 7309,
39 : 7309,
41 : 7309,
43 : 7500,
46 : 7309,
47 : 7309,
48 : 7309,
49 : 7309,
50 : 7309,
51 : 7309,
52 : 7309,
53 : 7309,
54 : 7309,
55 : 7309,
56 : 7309,
57 : 7309,
58 : 14618,
60 : 14618,
61 : 7309,
62 : 7309,
63 : 7309,
  },
  2: {
5 : 7309,
9 : 7309,
10 : 7309,
11 : 7309,
13 : 7309,
16 : 7309,
23 : 7309,
24 : 7309,
32 : 7309,
38 : 7309,
43 : 7309,
50 : 7309,
51 : 3700,
52 : 3609,
58 : 3000,
59 : 7309,
60 : 7309,
62 : 7309,
63 : 7309,
66 : 7309,
71 : 7309,
74 : 7309,
76 : 7309,
77 : 7309,
78 : 7309,
79 : 7309,
82 : 7309,
86 : 7309,
89 : 7309,
93 : 7309,
95 : 7309,
96 : 7309,
99 : 7309,
104 : 7309,
112 : 7309,
118 : 7309,
123 : 7309,
125 : 7309,
128 : 7309,
132 : 7309,
136 : 7309,
140 : 7309,
141 : 7309,
151 : 8000,
152 : 7309,
  },
  3: {
5 : 7309,
9 : 7500,
12 : 7309,
16 : 7309,
20 : 7309,
26 : 7500,
28 : 7309,
33 : 7309,
44 : 7309,
48 : 7309,
49 : 7309,
55 : 7309,
59 : 7309,
61 : 7309,
64 : 7309,
68 : 7309,
70 : 7309,
72 : 7309,
74 : 7309,
76 : 7309,
77 : 7309,
79 : 7309,
84 : 7309,
88 : 7500,
89 : 7309,
93 : 7309,
97 : 7309,
100 : 7309,
102 : 1827,
103 : 7309,
104 : 7309,
108 : 7309,
109 : 7309,
113 : 7309,
115 : 7309,
116 : 7309,
123 : 7309,
125 : 7309,
129 : 7309,
130 : 14618,
133 : 14618,
136 : 7309,
138 : 7309,
142 : 7309,
144 : 7309,
146 : 8000,
151 : 7309,
153 : 7309,
154 : 7309,
155 : 7309,
156 : 7309,
157 : 7309,
158 : 7309,
159 : 7309,
160 : 7309,
161 : 7309,
162 : 7309,
163 : 7309,
165 : 7309,
166 : 7309,
167 : 7500,
168 : 7309,
169 : 7309,
172 : 7300,
173 : 7309,
174 : 7309,
175 : 7309,
178 : 7309,
182 : 7309,
183 : 7309,
184 : 7309,
186 : 7309,
189 : 7309,
190 : 7310,
191 : 7309,
195 : 7309,
196 : 7309,
197 : 7309,
200 : 7309,
202 : 7309,
203 : 15000,
204 : 7309,
205 : 7309,
209 : 7309,
210 : 7309,
213 : 7309,
215 : 7309,
216 : 7309,
217 : 7310,
220 : 3700,
228 : 2000,
233 : 7309,
235 : 3000,
240 : 7309,
245 : 21927,
249 : 7309,
251 : 7309,
254 : 7309,
255 : 7309,
257 : 7309,
259 : 7500,
261 : 7309,
262 : 7309,
265 : 7309,
267 : 7309,
279 : 7309,
283 : 7333,
284 : 7309,
286 : 7309,
289 : 7309,
291 : 7309,
292 : 7309,
295 : 7309,
297 : 7309,
315 : 7309,
317 : 7309,
319 : 7309,
321 : 7309,
323 : 7309,
324 : 7309,
326 : 7309,
333 : 7309,
335 : 7309,
336 : 7309,
337 : 7309,
338 : 7309,
339 : 7309,
340 : 7309,
342 : 7309,
343 : 7309,
344 : 7309,
348 : 7309,
352 : 7310,
353 : 7309,
356 : 7309,
357 : 2500,
359 : 10000,
364 : 7309,
367 : 7309,
369 : 7309,
372 : 7309,
376 : 7309,
376 : 7309,
383 : 7400,
384 : 7400,
385 : 7309,
389 : 7309,
391 : 500,
392 : 20000,
393 : 7309,
395 : 7309,
396 : 7309,
397 : 7309,
399 : 7309,
400 : 7309,
401 : 7309,
402 : 7309,
405 : 7309,
408 : 7309,
409 : 7309,
429 : 7309,
430 : 7309,
  },
  4: {
1 : 1309,
6 : 7309,
11 : 7309,
15 : 7309,
19 : 7309,
21 : 7309,
25 : 7309,
29 : 7300,
33 : 7309,
40 : 7309,
43 : 7309,
47 : 7309,
50 : 7309,
53 : 7309,
57 : 7309,
58 : 7309,
67 : 7309,
69 : 7309,
74 : 4000,
78 : 7309,
79 : 7309,
81 : 7309,
83 : 7309,
85 : 7309,
86 : 7309,
89 : 7309,
92 : 7309,
  },
  6: {
2 : 7309,
3 : 7309,
5 : 7309,
7 : 7309,
15 : 7309,
17 : 7309,
20 : 7309,
22 : 4000,
25 : 7309,
28 : 7309,
29 : 7309,
33 : 7309,
37 : 7309,
42 : 7309,
43 : 7309,
44 : 7309,
48 : 7309,
51 : 7309,
52 : 7309,
54 : 7309,
55 : 7309,
56 : 1500,
58 : 7309,
61 : 7309,
62 : 7309,
63 : 20000,
67 : 7309,
68 : 7309,
69 : 7309,
71 : 7309,
74 : 7309,
75 : 7309,
78 : 8000,
79 : 7309,
80 : 3650,
81 : 7309,
82 : 7309,
83 : 7400,
87 : 7309,
99 : 7500,
102 : 7309,
105 : 7309,
106 : 7309,
114 : 7309,
116 : 7309,
118 : 7309,
119 : 7309,
120 : 7309,
123 : 7309,
126 : 7309,
127 : 7309,
128 : 7309,
130 : 7309,
133 : 7309,
136 : 7309,
138 : 7309,
139 : 14618,
144 : 7309,
145 : 7310,
146 : 7309,
154 : 7309,
157 : 7309,
159 : 7309,
160 : 7309,
161 : 7309,
163 : 7309,
164 : 7310,
165 : 7309,
166 : 7309,
169 : 7309,
170 : 7309,
173 : 7309,
179 : 7309,
180 : 7309,
182 : 8000,
185 : 7309,
186 : 3655,
187 : 7309,
189 : 7309,
191 : 7309,
193 : 7309,
195 : 7309,
196 : 7309,
198 : 7309,
200 : 10000,
202 : 8000,
204 : 7309,
206 : 7309,
208 : 7309,
209 : 7309,
212 : 7309,
214 : 7309,
216 : 7309,
218 : 7309,
219 : 7309,
220 : 7309,
221 : 7309,
225 : 7309,
228 : 7309,
230 : 7309,
231 : 7309,
232 : 7309,
235 : 3654.5,
237 : 7309,
240 : 7309,
241 : 7309,
244 : 7309,
245 : 7309,
246 : 10000,
249 : 7309,
250 : 14618,
255 : 14618,
258 : 7309,
260 : 7309,
261 : 7309,
262 : 7309,
263 : 7309,
264 : 7309,
268 : 7309,
269 : 50000,
270 : 7309,
271 : 7309,
272 : 21000,
273 : 7309,
274 : 7309,
278 : 7309,
279 : 7309,
301 : 7309,
302 : 7309,
316 : 7309,
  },
  7: {
1 : 7309,
2 : 7309,
3 : 7309,
5 : 7309,
7 : 1000,
9 : 7309,
10 : 7309,
17 : 15000,
19 : 7309,
22 : 7309,
27 : 7309,
30 : 7309,
32 : 7309,
34 : 10000,
35 : 7500,
37 : 7309,
40 : 7309,
42 : 7309,
47 : 7309,
48 : 7309,
51 : 14618,
52 : 7309,
65 : 7309,
67 : 7309,
71 : 7309,
72 : 7309,
76 : 7309,
77 : 7309,
79 : 7309,
82 : 7309,
83 : 7309,
84 : 7309,
85 : 7400,
88 : 7309,
89 : 7309,
90 : 7309,
91 : 7309,
93 : 7309,
99 : 7309,
100 : 7309,
101 : 5000,
102 : 10000,
104 : 7309,
106 : 7309,
111 : 7309,
112 : 7309,
113 : 7309,
114 : 7309,
115 : 7309,
117 : 464,
119 : 7309,
120 : 7309,
121 : 7309,
122 : 7309,
124 : 7309,
126 : 7309,
127 : 7309,
131 : 7309,
134 : 14618,
135 : 7309,
136 : 7309,
138 : 7309,
141 : 7309,
144 : 7309,
145 : 7309,
148 : 7309,
150 : 7309,
151 : 7310,
155 : 7309,
160 : 7309,
163 : 7309,
167 : 7309,
168 : 7309,
171 : 7309,
175 : 8000,
176 : 7309,
179 : 14618,
181 : 7309,
182 : 7309,
183 : 7309,
184 : 7309,
185 : 7309,
189 : 7309,
190 : 7309,
191 : 7309,
193 : 16000,
197 : 14618,
201 : 7309,
203 : 7309,
210 : 7309,
211 : 7309,
213 : 7309,
214 : 7309,
215 : 7309,
220 : 7309,
250 : 7309,
  },
  8: {
2 : 7309,
6 : 7309,
7 : 7309,
10 : 7500,
12 : 7309,
13 : 7309,
14 : 7309,
16 : 7309,
18 : 8000,
20 : 500,
24 : 7309,
27 : 7309,
33 : 7309,
44 : 7500,
49 : 7309,
55 : 7309,
56 : 7309,
60 : 7309,
62 : 7309,
63 : 7309,
64 : 7309,
66 : 7309,
68 : 7500,
70 : 7309,
72 : 7309,
73 : 7309,
74 : 7309,
75 : 7309,
78 : 7309,
84 : 7309,
85 : 7309,
87 : 7309,
88 : 7309,
93 : 7400,
95 : 7500,
96 : 7309,
98 : 7309,
100 : 7309,
102 : 7309,
105 : 7309,
106 : 7309,
107 : 7309,
109 : 7309,
113 : 7309,
115 : 7309,
118 : 7309,
120 : 7309,
123 : 7309,
127 : 7309,
130 : 7309,
131 : 7309,
132 : 7309,
137 : 7309,
143 : 7309,
147 : 7309,
149 : 7309,
151 : 7309,
153 : 7309,
154 : 7309,
156 : 2000,
157 : 1309,
158 : 7309,
165 : 7309,
169 : 7309,
170 : 7309,
172 : 7309,
174 : 7309,
175 : 7309,
177 : 7309,
178 : 7309,
179 : 7309,
181 : 7309,
187 : 7309,
191 : 7309,
192 : 7309,
  },
  9: {
1 : 7309,
5 : 20000,
10 : 7309,
14 : 7309,
15 : 7309,
17 : 7309,
22 : 7309,
23 : 7309,
25 : 7309,
27 : 7309,
30 : 7309,
34 : 7309,
35 : 7309,
37 : 7309,
40 : 7309,
41 : 7309,
45 : 7310,
50 : 7309,
60 : 7309,
61 : 7309,
65 : 10000,
66 : 7309,
70 : 7309,
71 : 7309,
73 : 7309,
74 : 7309,
77 : 7309,
79 : 7309,
83 : 7309,
85 : 7309,
86 : 7309,
87 : 7309,
92 : 7310,
94 : 7309,
99 : 7309,
107 : 7309,
108 : 7309,
110 : 7309,
113 : 7309,
114 : 7309,
116 : 7309,
118 : 7309,
119 : 7309,
120 : 7309,
121 : 3654,
122 : 7309,
124 : 7309,
129 : 7309,
142 : 4000,
145 : 7309,
146 : 7309,
149 : 7309,
151 : 7309,
152 : 7309,
154 : 7309,
157 : 7309,
159 : 7309,
161 : 7309,
166 : 7309,
173 : 7309,
174 : 7309,
178 : 14309,
183 : 7309,
184 : 7309,
185 : 7309,
190 : 7309,
195 : 7309,
196 : 7309,
197 : 7309,
218 : 7309,
  },
  10: {
3: 7309,
6: 7309,
7: 7310,
8: 7309,
10 :7309,
11 :7309,
15 :7309,
18 :7309,
19 :7309,
21 :7309,
23 :7309,
25 :7309,
27 :7309,
32 :7309,
35 :7309,
37 :3500,
39 :7309,
40 :7309,
41 :7309,
51 :7309,
54 :7309,
55 :7309,
56 :7309,
59 :7309,
60 :7309,
62 :7309,
64 :7309,
66 :7309,
67 :10000,
68 :7309,
69 :7309,
70 :7309,
72 :7309,
81 :7309,
  },
  21: {
6 :15000,
8 :7309,
12 :7309,
15 :7310,
19 :3500,
21 :7309,
24 :7309,
26 :7309,
27 :7309,
28 :7309,
35 :7309,
37 :7309,
38 :7309,
45 :7309,
54 :7309,
56 :7309,
58 :7309,
64 :7309,
67 :10000,
75 :20000,
77 :20000,
82 :7309,
88 :7309,
90 :7309,
91 :7309,
92 :10000,
108 :7309,
114 :7309,
117 :7309,
120 :7309,
122 :7309,
127 :7309,
128 :7309,
135 :7309,
139 :7309,
141 :7309,
142 :7309,
144 :7309,
145 :7309,
146 :7309,
149 :7309,
150 :2309,
152 :7309,
156 :7309,
160 :7309,
163 :7309,
181 :7309,
182 :7309,
  },
  22: {
11 :7309,
14 :7309,
16 :14618,
27 :7309,
32 :7309,
37 :7309,
38 :7309,
47 :7309,
48 :7309,
50 :7309,
56 :7309,
59 :7309,
62 :7309,
63 :7400,
67 :7309,
68 :7309,
71 :20000,
74 :7309,
77 :7309,
79 :7309,
80 :7309,
95 :5000,
  },
  23: {
2 :7309,
6 :7309,
9 :7309,
12 :7309,
13 :7309,
16 :7309,
19 :4000,
20 :7309,
21 :7309,
26 :7309,
32 :7309,
35 :7309,
37 :7309,
41 :7500,
42 :7309,
44 :7309,
52 :7309,
54 :7309,
55 :7309,
57 :8000,
61 :7309,
64 :7309,
69 :7309,
70 :7309,
74 :7309,
75 :7309,
81 :7309,
  },
  18: {
2 :7309,
11 :7500,
13 :7400,
15 :7309,
21 :7500,
22 :7309,
25 :7309,
26 :7309,
28 :7309,
30 :7309,
36 :7309,
37 :7309,
38 :7309,
41 :7309,
49 :7309,
51 :7309,
59 :7309,
61 :7309,
63 :7309,
68 :7309,
69 :7309,
70 :7309,
71 :7309,
75 :7309,
79 :7309,
91 :7309,
92 :7309,
95 :7309,
96 :7309,
103 :7310,
106 :7309,
108 :7309,
120 :7309,
133 :7309,
134 :7309,
137 :7309,
156 :7309,
160 :7309,
164 :7309,
170 :7309,
171 :7309,
173 :7309,
174 :7309,
175 :7309,
181 :7309,
188 :7309,
193 :7309,
195 :7309,
209 :7309,
212 :7309,
213 :7309,
215 :7310,
219 :7309,
221 :21927,
223 :7309,
227 :7309,
228 :7309,
229 :7309,
231 :7309,
242 :7309,
248 :7309,
  }, 
  19: {
6 :7309,
10 :7309,
19 :7309,
21 :7309,
22 :7309,
25 :7309,
27 :7309,
29 :7309,
30 :7309,
32 :7309,
34 :7309,
36 :7309,
38 :8000,
40 :7309,
46 :7309,
48 :7309,
50 :7309,
55 :7309,
60 :7309,
63 :7309,
66 :7309,
68 :7309,
70 :7500,
71 :7309,
75 :7309,
76 :7309,
79 :7309,
108 :7309,
114 :7309,
115 :7309,
123 :7309,
125 :7309,
127 :7309,
128 :7309,
130 :7309,
131 :7309,
138 :7309,
148 :7309,
149 :7309,
153 :7309,
158 :1000,
  },
  20: {
7 :7309,
10 :7309,
12 :7309,
13 :7309,
17 :7309,
19 :7309,
21 :8000,
26 :7309,
28 :7309,
30 :7309,
38 :7309,
42 :7309,
47 :7309,
52 :7309,
54 :7309,
70 :7309,
75 :7309,
76 :7309,
78 :7309,
79 :15000,
81 :7309,
83 :7309,
94 :7309,
95 :7309,
96 :10000,
106 :7309,
114 :7309,
123 :7309,
125 :7309,
  },
  16: {
7 :7309,
10 :8000,
21 :7309,
26 :7309,
30 :14618,
34 :7309,
39 :7309,
40 :7309,
41 :7309,
44 :7309,
54 :7309,
55 :7309,
62 :7309,
64 :7309,
66 :7309,
67 :7309,
70 :7309,
71 :7309,
80 :7309,
84 :7309,
91 :4000,
97 :7309,
102 :7309,
103 :7309,
  }, 
  17: {
3 :7309,
5 :7309,
9 :7309,
10 :7309,
14 :7309,
23 :7309,
26 :7309,
27 :7309,
29 :7309,
37 :7309,
38 :7309,
50 :7309,
54 :7309,
56 :7309,
60 :7309,
79 :10000,
93 :7309,
97 :7309,
98 :7309,
101 :7309,
106 :7309,
114 :7309,
123 :8000,
  },
  24: {
2 :7309,
6 :7309,
13 :7500,
48 :7309,
55 :7309,
56 :7309,
61 :7309,
78 :7309,
79 :7500,
82 :7309,
88 :7309,
89 :7309,
97 :7309,
103 :7309,
104 :7309,
112 :7309,
116 :7309,
122 :7309,
124 :7309,
128 :7309,
132 :22000,
133 :7309,
138 :7309,
139 :7309,
  },
  25: {
7 :7309,
14 :7309,
19 :7309,
24 :7309,
26 :7309,
31 :7309,
43 :7309,
47 :7309,
53 :7309,
64 :7309,
66 :7309,
68 :7309,
  },
};

var fayna = [
  [ //1
    [99, 16], 
    [130, 9],
    [154, 9],
    [185, 9],
    [272, 16],
    [294, 9],
    [316, 9],
    [342, 9],
    [353, 6],
    [369, 6],
    [396, 9],
  ],
  [ //2
    [30, 9], 
    [62, 9],
    [91, 9],
    [123, 9],
    [152, 9],
  ],
  [ //3
    [28, 7],
    [48, 5],
    [76, 9],
    [106, 6],
    [208, 16],
    [239, 9],
    [263, 9],
    [294, 9],
    [409, 16],
  ],
  [ //4
    [37, 8],
    [61, 6],
    [93, 8],
  ],
  [ //5
    [20, 8],
    [36, 6],
    [64, 9],
  ],
  [ //6
    [31, 7],
    [70, 9],
    [102, 9],
    [128, 7],
    [152, 7],
    [174, 7],
    [279, 16],
  ],
  [ //7
    [36, 9],
    [72, 9],
    [100, 8],
    [124, 7],
    [150, 7],
    [174, 7],
    [202, 7],
    [221, 5],
  ],
  [ //8
    [89, 16],
    [107, 7],
    [133, 6],
    [165, 9],
    [194, 9],
  ],
  [ //9
    [37, 9],
    [66, 6],
    [92, 8],
    [122, 9],
    [146, 9],
    [169, 7],
    [179, 7],
    [201, 7],
  ],
  [ //10
    [14, 7],
    [44, 9],
    [72, 9],
  ],
  [], //11
  [], //12
  [], //13
  [], //14
  [], //15
  [ //16
    [37, 9],
    [74, 9],
    [103, 9],
  ],
  [ //17
    [18, 7],
    [47, 9],
    [85, 9],
    [123, 9],
  ],
  [ //18
    [28, 9],
    [50, 9],
    [76, 9],
    [99, 7],
    [132, 7],
    [156, 7],
    [186, 7],
    [253, 16],
  ],
  [ //19
    [30, 7],
    [54, 7],
    [80, 7],
    [118, 9],
    [162, 9],
  ],
  [ //20
    [31, 9],
    [54, 9],
    [80, 6],
    [98, 7],
    [128, 7],
  ],
  [ //21
    [96, 16],
    [132, 7],
    [165, 9],
  ],
  [ //22
    [28, 7],
    [62, 7],
    [85, 7],
  ],
  [ //23
    [20, 8],
    [54, 8],
    [81, 8],
  ],
  [ //24
    [26, 7],
    [56, 7],
    [89, 7],
    [120, 7],
    [140, 7],
  ],
  [ //25
    [22, 7],
    [47, 7],
    [70, 7],
  ]
];

var minPay = 7309;
var floorSize = 20;
var maxFloor = 16;
var buildingSize = 150;
var verticalMargin = 10;
var horizontalMargin = 100;

console.log(Math.max(...fayna.map(build => build.length)));
canvas.width = horizontalMargin + buildingSize * Math.max(...fayna.map(build => build.length)) + horizontalMargin;
canvas.height = floorSize * maxFloor * fayna.length;

var ctx = canvas.getContext("2d");


var i = 0;
var n = 1;
var line = 0;
for (build of fayna) {
  if (build.length != 0) {
    var maxBuildingSize = Math.max(...build.map(([lst, floors]) => floors)) * floorSize;
    ctx.save()
    ctx.rotate(-Math.PI/2);
    ctx.textAlign = "center";

    ctx.fillText("Будинок #" + n, -1 * (maxBuildingSize / 2 + line + verticalMargin), horizontalMargin / 2);
    ctx.restore();

    var j = 0;
    var lst_ = 0;
    for ([lst, floors] of build) {
      ctx.strokeRect(horizontalMargin + buildingSize*j, maxBuildingSize - floorSize * floors + line + verticalMargin, buildingSize, floorSize * floors);
      var countFlat = lst - lst_;
      var fst = lst_ + 1;
      var normal = Math.floor(countFlat / (floors - 1));
      var rest = countFlat % (floors - 1);
      for (floor = 0; floor < floors; floor++) {
        if (floor == 0) {
          ctx.fillRect(horizontalMargin + buildingSize*j, maxBuildingSize - floorSize + line + verticalMargin, buildingSize, floorSize);
          ctx.save();
          ctx.textAlign = "center";
          ctx.fillStyle = "#ffff00";
          ctx.fillText(j+1, horizontalMargin + buildingSize*j + (buildingSize/2), (maxBuildingSize + line + 10) - floorSize / 2 + 3);
          ctx.restore();
        } else {
          var count = rest > 0 ? normal + 1 : normal;
          var size = buildingSize / count;
          for (var k = 0; k < count; k++) {
            ctx.save();
            ctx.fillStyle = data[n] && data[n][fst] && data[n][fst] >= minPay ? "#ffff00" : "#f5f5f5";
            ctx.fillRect(horizontalMargin + buildingSize*j + size*k, maxBuildingSize - floorSize * (floor+1) + line + verticalMargin, size, floorSize);
            ctx.strokeRect(horizontalMargin + buildingSize*j + size*k, maxBuildingSize - floorSize * (floor+1) + line + verticalMargin, size, floorSize);
            ctx.textAlign = "center";
            ctx.fillStyle = "#000000";
            ctx.fillText(fst, horizontalMargin + buildingSize*j + size*k + size/2, (maxBuildingSize - floorSize * (floor+1) + line + verticalMargin) + floorSize/2 + 3);
            ctx.restore();
            fst++;
          }
          rest--;
        }
      }
      lst_ = lst;
      j++;
    }
    i++;
    line += maxBuildingSize + verticalMargin;
  }
  n++;
}
